(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[297],{"7vSn":function(e,t,i){},e3KR:function(e,t,i){i.d(t,"c",(function(){return G})),i.d(t,"b",(function(){return q})),i.d(t,"a",(function(){return Y}));var o=i("q1tI"),r=i("/MKj"),n=(i("7vSn"),i("8cMa")),s=i("s7xj"),a=i("n6mq"),c=i("nKUr");const d=({collaborator_count:e,useLegoLayout:t,type:i})=>t?Object(c.jsx)(a.f,{marginEnd:e?2:0,children:Object(c.jsx)(n.a,{type:i})}):Object(c.jsx)(n.a,{type:i});var l=({board:e,showCollaborativeIcon:t,showPrivateIcon:i,showProtectedIcon:o,showSectionsIcon:r,useLegoLayout:l})=>{var h;const u=(null==e||null===(h=e.collaborating_users)||void 0===h?void 0:h.length)||0;return t||i||o||r?Object(c.jsxs)(a.f,{display:"flex",direction:"row",marginEnd:l?0:5,dangerouslySetInlineStyle:{__style:{paddingLeft:8}},alignItems:"center",children:[i&&Object(c.jsx)(d,{collaborator_count:u,useLegoLayout:l,type:"secret"}),o&&Object(c.jsx)(d,{collaborator_count:u,useLegoLayout:l,type:"protected"}),t&&(l?Object(c.jsx)(s.a,{board:e,isCompact:!0,ownerOnly:!1}):Object(c.jsx)(n.a,{type:"group"})),r&&Object(c.jsx)(n.a,{type:"sections"})]}):null},h=i("JW66"),u=i("Ye/N"),b=i("4cpq");function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class j extends o.Component{constructor(...e){super(...e),g(this,"state",{hovered:!1}),g(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),g(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),g(this,"handleTouch",()=>{const{board:e,onClick:t}=this.props;t(e)}),g(this,"handleButtonClick",({event:e})=>{const{onButtonClick:t}=this.props;this.handleTouch(),t&&t(),e.stopPropagation()}),g(this,"tapAreaRef",Object(o.createRef)())}focus(){const e=this.tapAreaRef.current;e&&e.focus()}render(){const{hovered:e}=this.state,{board:t,buttonText:i,isSectionOpen:o,shouldOpenSections:r,showSaveToProfile:n,showFlyoutSaveButton:s,useLegoLayout:d}=this.props,g=!!t.section_count&&t.section_count>0,j=g?"boardWithSection":"boardWithoutSection",p=t.image_cover_url;return Object(c.jsx)(b.a,{id:j,children:Object(c.jsx)(a.ab,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:Object(c.jsxs)(a.f,{alignItems:"center",color:e?"lightGray":"white",display:"flex",height:d?64:52,marginStart:d?2:3,marginEnd:d?2:3,marginBottom:d?0:1,marginTop:d?0:1,padding:d?2:0,rounding:3,children:[Object(c.jsxs)(a.f,{"aria-hidden":"true",flex:"none",height:d?48:36,marginBottom:d?0:1,marginStart:d?0:2,marginEnd:d?2:3,marginTop:d?0:1,overflow:"hidden",width:d?48:36,children:[n&&"boardless"===t.type&&Object(c.jsx)(a.C,{rounding:2,width:48,height:48,children:Object(c.jsx)(a.f,{color:e?"white":"lightGray",display:"flex",height:"100%",width:"100%",children:Object(c.jsx)(a.f,{alignItems:"center",justifyContent:"center",padding:3,children:Object(c.jsx)(a.v,{accessibilityLabel:u.a._("Save to profile icon","BoardRow.TapArea.Icon","Icon to indicate saving to profile."),color:"darkGray",icon:"history",size:24})})})}),p&&!r&&Object(c.jsx)(a.C,{height:d?48:36,rounding:2,wash:!0,width:d?48:36,children:Object(c.jsx)(a.x,{src:p,alt:"",naturalHeight:d?48:36,naturalWidth:d?48:36,fit:"cover"})}),p&&r?Object(c.jsx)(a.C,{rounding:2,wash:!0,width:d?48:36,height:d?48:36,children:Object(c.jsx)(a.x,{src:p,alt:"",naturalHeight:d?48:36,naturalWidth:d?48:36,fit:"cover"})}):Object(c.jsx)(a.f,{color:r?"lightGray":"transparent",width:"100%",height:"100%"})]}),Object(c.jsx)(a.f,{flex:"grow",paddingY:1,overflow:"hidden",marginStart:d?0:1,children:Object(c.jsx)(a.bb,{truncate:!0,weight:r||!r?"bold":"normal",children:t.name})}),t&&(!e||e&&g&&!o)?Object(c.jsx)(a.f,{children:Object(c.jsx)(l,{board:t,isOpen:t.isOpen,showCollaborativeIcon:!!t.is_collaborative,showPrivateIcon:t.privacy===h.a.BoardPrivacy.SECRET,showProtectedIcon:t.privacy===h.a.BoardPrivacy.PROTECTED,showSectionsIcon:g&&r,useLegoLayout:d})}):null,e&&(0===t.section_count||!r)&&s&&Object(c.jsx)(a.f,{marginEnd:d?0:2,flex:"none",children:Object(c.jsx)(a.g,{accessibilityLabel:"save button",color:"red",onClick:this.handleButtonClick,text:i||u.a._("Save","save button","save button")})})]})})})}}g(j,"defaultProps",{shouldOpenSections:!0,showFlyoutSaveButton:!0});var p=({image_url:e,naturalHeight:t,naturalWidth:i})=>Object(c.jsx)(a.f,{"aria-hidden":"true",marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,height:48,children:Object(c.jsx)(a.C,{wash:!0,width:48,height:48,rounding:2,children:Object(c.jsx)(a.x,{src:e,alt:"",naturalHeight:t,naturalWidth:i})})});function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class x extends o.Component{constructor(...e){super(...e),f(this,"state",{hovered:!1}),f(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),f(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),f(this,"handleTouch",()=>{const{board:e,onClick:t,section:i}=this.props;t(i,e)}),f(this,"handleButtonClick",({event:e})=>{const{onButtonClick:t}=this.props;this.handleTouch(),t&&t(),e.stopPropagation()}),f(this,"tapAreaRef",Object(o.createRef)())}focus(){const e=this.tapAreaRef.current;e&&e.focus()}render(){var e,t,i,o,r,n;const{hovered:s}=this.state,{buttonText:d,section:l,showSectionSaveButton:h,useLegoLayout:b}=this.props;return Object(c.jsx)(a.ab,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:Object(c.jsxs)(a.f,{color:s?"lightGray":"white",display:"flex",alignItems:"center",height:b?64:52,marginStart:b?2:0,marginEnd:b?2:0,padding:b?2:0,marginTop:b?0:1,rounding:3,dangerouslySetInlineStyle:{__style:b?{}:{marginLeft:53,marginRight:11}},children:[b&&!(null===(e=l.preview_pins)||void 0===e||!e.length)&&Object(c.jsx)(p,{image_url:null!==(t=l.preview_pins[0].image_square_url)&&void 0!==t?t:"",naturalHeight:null!==(i=null===(o=l.preview_pins[0].image_square_size_pixels)||void 0===o?void 0:o.height)&&void 0!==i?i:1,naturalWidth:null!==(r=null===(n=l.preview_pins[0].image_square_size_pixels)||void 0===n?void 0:n.width)&&void 0!==r?r:1}),Object(c.jsx)(a.f,{flex:"grow",paddingY:1,marginStart:b?0:4,children:Object(c.jsx)(a.bb,{truncate:!0,weight:b?"bold":"normal",children:l.title})}),s&&h&&Object(c.jsx)(a.f,{marginEnd:b?0:2,flex:"none",children:Object(c.jsx)(a.g,{accessibilityLabel:"save button",color:"red",text:d||u.a._("Save","save button","save button"),onClick:this.handleButtonClick})})]})})}}f(x,"defaultProps",{showSectionSaveButton:!0});var y=i("yweb"),O=i("w70y");var m=Object(O.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:e=>({board_id:e.board.id}),allowStale:!1})(e=>{const t=Object(y.c)(),{board:i,buttonText:o,sectionsResource:r,onClick:n,onButtonClick:s,showSectionSaveButton:d,useLegoLayout:l}=e,h=r&&r.data||[];return Object(c.jsxs)(a.f,{children:[!r.isLoaded&&Object(c.jsx)(a.f,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:200,children:Object(c.jsx)(a.T,{accessibilityLabel:t._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})}),r.isLoaded&&Object(c.jsxs)(a.f,{children:[l&&Object(c.jsx)(a.f,{marginStart:4,marginTop:2,paddingY:1,children:Object(c.jsx)(a.bb,{size:"sm",children:t._("Section","PinBetterSave.BoardFlyout.SectionPlaceholderText","section list title")})}),h.map(e=>Object(c.jsx)(x,{board:i,buttonText:o,onButtonClick:s,onClick:n,section:e,showSectionSaveButton:d,useLegoLayout:l},e.id))]})]})});function v({isBoardCreate:e,onCreateBoardClick:t,useLegoLayout:i}){const r=Object(y.c)(),[n,s]=Object(o.useState)(!1);return Object(c.jsx)(a.f,{"data-test-id":"create-board",height:"100%",display:"flex",children:Object(c.jsx)(a.ab,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,rounding:2,children:Object(c.jsxs)(a.f,{display:"flex",alignItems:"center",padding:i?4:2,color:n?"lightGray":"white",width:"100%",height:"100%",children:[Object(c.jsx)(a.f,{rounding:i?2:0,dangerouslySetInlineStyle:{__style:i?{padding:"14px"}:{}},marginStart:i?0:4,marginEnd:i?2:5,color:i?"lightGray":"transparent",children:Object(c.jsx)(a.v,{accessibilityLabel:"Add a board",size:i?20:28,icon:i?"add":"add-circle",color:i?"darkGray":"red"})}),e?Object(c.jsx)(a.bb,{align:"center",truncate:!0,weight:"bold",children:r._("Create board")}):Object(c.jsx)(a.bb,{align:"center",truncate:!0,weight:"bold",children:r._("Create section")})]})})})}var S=i("nKlH"),w=i("eOdZ");function B({onClick:e,title:t,showIcon:i}){const r=Object(y.c)(),[n,s]=Object(o.useState)(!1);return Object(c.jsx)(a.ab,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:()=>{e({title:t})},children:Object(c.jsxs)(a.f,{color:n?"lightGray":"white",display:"flex",alignItems:"center",height:i?64:52,marginStart:3,marginEnd:3,marginBottom:1,rounding:3,children:[Object(c.jsx)(a.f,{flex:"none",marginBottom:1,marginStart:i?1:2,marginEnd:3,marginTop:1,overflow:"hidden",width:i?48:36,height:i?48:36,rounding:i?2:1,children:Object(c.jsx)(a.f,{color:"lightGray",width:"100%",height:"100%",display:i?"flex":void 0,alignItems:i?"center":void 0,justifyContent:i?"center":void 0,children:i&&Object(c.jsx)(a.v,{icon:"add",color:"darkGray",size:20,accessibilityLabel:r._("Create board icon","BoardSuggestionRow.AccessibilityLabel.Text","accessibility label text form add icon")})})}),Object(c.jsx)(a.f,{flex:"grow",paddingY:1,children:Object(c.jsx)(a.bb,{truncate:!0,weight:"bold",children:t})}),n&&Object(c.jsx)(a.f,{marginEnd:2,children:Object(c.jsx)(a.g,{accessibilityLabel:"create button",color:"red",text:r._("Create","create button to create a new board","create button to create a new board")})})]})})}const _=e=>{const t=Object(y.c)(),{suggestionsResource:i,onClick:r,pinBuilderSuggestions:n,inWebRepinFlowExp:s}=e,d=n||i&&i.data||[],l=Object(c.jsxs)(o.Fragment,{children:[s&&Object(c.jsx)(a.f,{marginStart:4,marginTop:2,paddingY:1,children:Object(c.jsx)(a.bb,{size:"sm",children:t._("Suggestions","PinBetterSave.BoardFlyout.SectionPlaceholderText","section list title")})}),d.map((e,t)=>Object(c.jsx)(B,{title:e.title,onClick:r,showIcon:s},t))]});return Object(c.jsx)(o.Fragment,{children:d?l:Object(c.jsx)(a.f,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:200,children:Object(c.jsx)(a.T,{accessibilityLabel:t._("loading board suggestions","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})})})};var C=i("0BOE"),L=i("eUcp"),k=i("Wer7"),T=i("U4JR"),I=i("pLLR"),R=i("seP0"),P=i("ANjH");function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const H=e=>e?498:439,F=360,A=e=>e?80:52;class M extends o.PureComponent{constructor(...e){var t;super(...e),t=this,E(this,"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0}),E(this,"getItems",e=>{const{boardResource:t,changeBoardModal:i,suggestedBoardsShortListResource:o,displayShortlistMostRecentBoard:r,showSaveToProfile:n}=this.props;if(!t||!t.data)return[];const{all_boards:s,boards_shortlist:a}=t&&t.data,c=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:u.a._("Profile","pinBetterSave.initialSelection.boardlessPinsOption","Option to save to profile without a board."),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],d=s.filter(e=>!this.props.advertiser_id||"secret"!==e.privacy).map(e=>this.mapBoards(e,"allBoards",0)),l=r?a.map((e,t)=>this.mapBoards(e,"shortlist",t+1)):(o&&o.data||[]).map((e,t)=>this.mapBoards(e,"shortlist",t+1)),h=n&&!i&&s.length>=3?[...c,...l.slice(0,2)]:l,{searchQuery:b}=this.state;return b.length>=2?[...Object(C.a)(d,b)]:[...s.length<3&&n?[{type:"header",title:u.a._("Quick save and organize later","BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle","Header saving to profile")},...c]:[],...s.length>3&&h&&h.length?[{type:"header",title:e?u.a._("Top choices","PinBetterSave.BoardFlyout.TopChoicesSectionTitle","Header for top suggestions in board picker"):u.a._("Top board suggestions","Header for top suggesions in board picker","Header for top suggesions in board picker")},...h]:[],...s.length>0?[{type:"header",title:s.length<3&&n?u.a._("Save to board","BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle","Header for boards when there are less than 3 boards in board picker"):u.a._("All boards","Header for all boards in board picker","Header for all boards in board picker")},...d]:[]]}),E(this,"mapBoards",(e,t,i)=>{const{setBoardWithSection:o}=this.props,{selectedBoardId:r,selectedBoardCategory:n}=this.state,s=e.id===r&&t===n;return s&&o&&o(e),{...e,category:t,isOpen:s,gridIndex:i}}),E(this,"handleBack",()=>{const{setBoardWithSection:e}=this.props;this.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),e&&e(null)}),E(this,"handleSectionClick",(e,t)=>{const{onItemChosen:i}=this.props;Object(T.b)(101,{component:13282,element:36,objectId:t.id,view:91,grid_index:t.gridIndex}),i({boardId:t.id,url:e.slug?`${t.url}${e.slug}/`:t.url,sectionId:e.id,title:e.title||"",type:e.type,imageCoverUrl:t.image_cover_url})}),E(this,"getPinBuilderSuggestions",(async function(){const{pin:e}=t.props;if(e){var i;const o=w.a.create("BoardTitleSuggestionsResource",{pin_id:e.id}),r=await o.callGet({showError:!1},{retries:1});if(null!==(i=r.resource_response)&&void 0!==i&&i.data){const e=r.resource_response.data.map(e=>({title:e.title}))||[];t.setState({boardSuggestions:e})}}})),E(this,"handleBoardWithSectionsClick",e=>{const{selectedBoardId:t,selectedBoardCategory:i}=this.state,o=t===e.id&&i===e.category;this.setState({isSectionOpen:!0,selectedBoardId:o?"":e.id,selectedBoardCategory:o?"":e.category})}),E(this,"handleBoardClick",({board:e,toggleSections:t})=>{const{onItemChosen:i}=this.props;this.setState({searchBoxFocused:!1}),t?this.handleBoardWithSectionsClick({id:e.id,category:e.category}):(Object(T.b)(101,{component:13282,element:36,objectId:e.id,view:91,grid_index:e.gridIndex}),i({boardId:e.id,url:e.url,title:e.name||"",type:e.type,imageCoverUrl:e.image_cover_url}))}),E(this,"handleSearchQueryUpdate",e=>{this.setState(t=>({...t,searchQuery:e}))}),E(this,"boardSectionsHeaderRef",Object(o.createRef)())}componentDidMount(){this.props.boardResource&&this.props.boardResource.isLoaded&&this.setPWTLoadingEnd()}componentDidUpdate(e,t){e.boardResource&&!e.boardResource.isLoaded&&this.props.boardResource&&this.props.boardResource.isLoaded&&this.setPWTLoadingEnd(),this.state.isSectionOpen&&!t.isSectionOpen&&this.boardSectionsHeaderRef.current&&this.boardSectionsHeaderRef.current.focus()}setPWTLoadingEnd(){const{boardResource:e,boardPickerStopwatch:t}=this.props;t&&(!e||e.error?t.error():t.stop())}render(){const{boardResource:e,buttonText:t,changeBoardModal:i,customItem:r,onBoardCreate:n,onButtonClick:s,paneHeight:d,paneWidth:l,showSaveToProfile:h,showCreateBoardButton:g,showFlyoutSaveButton:p,showSections:f,showSectionSaveButton:x,suggestedBoardsShortListResource:y,useStoryboardStyle:O,useLegoLayout:w}=this.props,{boardSuggestions:B,isSectionOpen:C,searchBoxFocused:k,searchQuery:T}=this.state;if(!e)return null;const{isLoaded:I,error:R}=e;let P=[];(I&&!R||y&&y.data&&!y.error)&&(P=this.getItems(!!w));const E=P.filter(e=>e&&"allBoards"===e.category).length;E<=3&&0===B.length&&this.getPinBuilderSuggestions();const M=O?200:322,W=O?214:334,z=d||290,U=null===C?"":"BoardsSlideRight",G=e=>Object(c.jsxs)(o.Fragment,{children:[!w&&Object(c.jsx)(a.p,{}),Object(c.jsx)(a.f,{overflow:"hidden",height:A(w),borderStyle:w&&E>=3&&P.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},children:Object(c.jsx)(v,{onCreateBoardClick:()=>n({title:this.state.searchQuery}),isBoardCreate:e,useLegoLayout:w})})]});return Object(c.jsxs)(a.f,{width:w&&!i?"100%":l,rounding:2,overflow:"hidden",height:O||i?"100%":H(w),color:"white",zIndex:L.a,children:[I?null:Object(c.jsx)(a.f,{display:"flex",alignItems:"center",justifyContent:"center",width:w&&!i?F:l,height:"100%",minHeight:200,children:Object(c.jsx)(a.T,{accessibilityLabel:u.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})}),Object(c.jsx)(a.f,{display:"flex",direction:"row",children:I&&Object(c.jsx)("div",{className:C?"BoardsSlideLeft":U,children:Object(c.jsx)(a.f,{position:"relative",children:Object(c.jsxs)(a.f,{display:"flex",direction:"row",width:w&&!i?720:2*l,zIndex:new a.s(0),children:[Object(c.jsxs)(a.f,{display:"flex",direction:"column",width:w&&!i?F:l,children:[w&&!i&&Object(c.jsx)(a.f,{height:64,display:"flex",alignItems:"center",justifyContent:"center",children:Object(c.jsx)(a.bb,{align:"center",size:"lg",weight:"bold",children:h?u.a._("Save","PinBetterSave.BoardFlyout.SavePlaceholder","flyout header text to indicate save options"):u.a._("Save to board","PinBetterSave.BoardFlyout.SaveToBoardPlaceholder","flyout header text")})}),!i&&Object(c.jsx)(a.f,{padding:w?0:3,paddingX:w?4:3,height:w?64:"auto",children:Object(c.jsx)(S.a,{accessibilityLabel:u.a._("Search through your boards","search bar placeholder text","search bar placeholder text"),focused:k,id:"pickerSearchField",onChange:({value:e})=>this.handleSearchQueryUpdate(e),placeholder:u.a._("Search","search bar placeholder text","search bar placeholder text"),value:T})}),Object(c.jsxs)(a.f,{minHeight:w?290:M,maxHeight:w?z:M,overflow:"scrollY",children:[y&&!y.isLoaded?Object(c.jsx)(b.a,{id:"suggestedBoardsContainer",children:Object(c.jsx)(a.f,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",minHeight:128.5,children:Object(c.jsx)(a.T,{accessibilityLabel:u.a._("loading board picker","accessibility text for loading spinner","accessibility text for loading spinner"),show:!0})})}):null,r,P.map((e,i)=>"header"===e.type?Object(c.jsx)(a.f,{paddingX:w?4:3,paddingY:1,marginTop:i>0?2:1,children:Object(c.jsx)(a.bb,{size:w?"sm":"md",children:e.title})},e.title):Object(c.jsx)(a.f,{children:Object(c.jsx)(j,{board:e,buttonText:t,onClick:e=>{this.handleBoardClick({board:e,toggleSections:f&&!!e.section_count})},onButtonClick:s,shouldOpenSections:f,showFlyoutSaveButton:p,showSaveToProfile:h,useLegoLayout:w})},`${e.category}-${e.id}`)),E<=3&&Object(c.jsx)(_,{onClick:n,pinBuilderSuggestions:B,inWebRepinFlowExp:w})]}),g&&G(!0)]}),Object(c.jsxs)(a.f,{display:"flex",direction:"column",width:w&&!i?F:l,marginBottom:w?2:0,children:[Object(c.jsxs)(a.f,{display:"flex",direction:"row",justifyContent:"center",alignContent:"center",alignItems:"center",children:[Object(c.jsx)(a.m,{span:2,children:Object(c.jsx)(a.f,{display:"flex",justifyContent:"start",alignContent:"center",alignItems:"center",marginStart:3,children:Object(c.jsx)(a.w,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),Object(c.jsx)(a.m,{span:8,children:Object(c.jsx)(a.f,{display:"flex",justifyContent:"center",alignItems:"center",height:w?64:52,children:Object(c.jsx)(a.bb,{weight:"bold",children:w?u.a._("Save Pin to","PinBetterSave.BoardFlyout.SectionHeader","Header for section header"):u.a._("Choose section","Header for section header","Header for section header")})})}),Object(c.jsx)(a.m,{span:2,children:Object(c.jsx)(a.f,{})})]}),!w&&Object(c.jsx)(a.p,{}),Object(c.jsx)(a.f,{minHeight:w?354:W,maxHeight:w?z:W,overflow:"scrollY",children:P?Object(c.jsx)(o.Fragment,{children:P&&P.map(e=>"header"===e.type?null:Object(c.jsx)(a.f,{children:e.isOpen&&Object(c.jsxs)(o.Fragment,{children:[w&&Object(c.jsx)(a.f,{marginStart:4,marginTop:2,paddingY:1,children:Object(c.jsx)(a.bb,{size:"sm",children:u.a._("Board","PinBetterSave.BoardFlyout.BoardPickerTitle","board title on section picker")})}),Object(c.jsx)(j,{board:e,buttonText:t,isSectionOpen:!0,onClick:e=>{this.handleBoardClick({board:e,toggleSections:!1})},onButtonClick:s,shouldOpenSections:!1,showFlyoutSaveButton:p,ref:this.boardSectionsHeaderRef,useLegoLayout:w}),Object(c.jsx)(m,{board:e,buttonText:t,onClick:this.handleSectionClick,onButtonClick:s,showSectionSaveButton:x,useLegoLayout:w})]})},`${e.category}-${e.id}`))}):null}),g&&!i&&G(!1)]})]})})})})]})}}function W(e){return Object(c.jsx)(M,{...e,boardPickerStopwatch:Object(R.c)(),requestContext:Object(I.d)()})}function z(e){const{advertiser:t,viewer:i}=e;if(i&&t){const t=e.advertiser;if(i.isAuth&&t.is_impersonation)return{hasMUA:!1,advertiser_id:t.id,username:t.owner_user_id};if(i.isAuth&&t.owner_user_id!==i.id)return{hasMUA:!0,advertiser_id:t.id,username:t.owner_user_id};if(i.isAuth&&t.owner_user_id===i.id)return{hasMUA:!1,advertiser_id:t.id,username:"me"}}return{advertiser_id:void 0,hasMUA:void 0,username:void 0}}function U(e){const{advertiser_id:t,hasMUA:i,username:o}=e;return{field_set_key:"board_picker",filter:i?"protected":"all",...o?{username:o}:Object.freeze({}),...t?{advertiser_id:t}:{}}}function G(){return(e,t)=>e(Object(k.f)("BoardPickerBoardsResource",U(z(t()))))}E(M,"defaultProps",{paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0});const q=Object(P.compose)(Object(r.connect)((function(e){return z(e)})),Object(O.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:U}))(W),Y=Object(O.b)({name:"BoardPickerBoardsShortlistResource",key:"suggestedBoardsShortListResource",options:e=>({pin_id:e.pin.id,shortlist_length:3,num_shortlist_suggestions:3})})(W)},nKlH:function(e,t,i){i.d(t,"a",(function(){return s}));var o=i("q1tI"),r=i("n6mq"),n=i("nKUr");function s(e){const{accessibilityLabel:t,focused:i,id:s,onBlur:a,onChange:c,onFocus:d,placeholder:l,value:h,size:u="lg"}=e,b=Object(o.useRef)(null);return Object(o.useEffect)(()=>{if(i){const e=b.current;window.requestAnimationFrame(()=>{const t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[i]),Object(n.jsx)(r.f,{ref:b,children:Object(n.jsx)(r.P,{accessibilityLabel:t,id:s,onBlur:a,onChange:c,onFocus:d,placeholder:l,size:u,value:h})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/297-fafd3ce337c35acb97cb.mjs.map